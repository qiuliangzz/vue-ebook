(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fbfef14c"],{1173:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},"24c5":function(t,e,n){"use strict";var i,o,r,s,c=n("b8e3"),a=n("e53d"),u=n("d864"),f=n("40c3"),h=n("63b6"),l=n("f772"),d=n("79aa"),v=n("1173"),p=n("a22a"),m=n("f201"),b=n("4178").set,g=n("aba2")(),y=n("656e"),_=n("4439"),k=n("bc13"),x=n("cd78"),w="Promise",S=a.TypeError,O=a.process,j=O&&O.versions,P=j&&j.v8||"",T=a[w],E="process"==f(O),M=function(){},F=o=y.f,Y=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n("5168")("species")]=function(t){t(M,M)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(M)instanceof e&&0!==P.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(i){}}(),C=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;g(function(){var i=t._v,o=1==t._s,r=0,s=function(e){var n,r,s,c=o?e.ok:e.fail,a=e.resolve,u=e.reject,f=e.domain;try{c?(o||(2==t._h&&A(t),t._h=1),!0===c?n=i:(f&&f.enter(),n=c(i),f&&(f.exit(),s=!0)),n===e.promise?u(S("Promise-chain cycle")):(r=C(n))?r.call(n,a,u):a(n)):u(i)}catch(h){f&&!s&&f.exit(),u(h)}};while(n.length>r)s(n[r++]);t._c=[],t._n=!1,e&&!t._h&&L(t)})}},L=function(t){b.call(a,function(){var e,n,i,o=t._v,r=R(t);if(r&&(e=_(function(){E?O.emit("unhandledRejection",o,t):(n=a.onunhandledrejection)?n({promise:t,reason:o}):(i=a.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=E||R(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},A=function(t){b.call(a,function(){var e;E?O.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=C(t))?g(function(){var i={_w:n,_d:!1};try{e.call(t,u(B,i,1),u(D,i,1))}catch(o){D.call(i,o)}}):(n._v=t,n._s=1,N(n,!1))}catch(i){D.call({_w:n,_d:!1},i)}}};Y||(T=function(t){v(this,T,w,"_h"),d(t),i.call(this);try{t(u(B,this,1),u(D,this,1))}catch(e){D.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n("5c95")(T.prototype,{then:function(t,e){var n=F(m(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?O.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i;this.promise=t,this.resolve=u(B,t,1),this.reject=u(D,t,1)},y.f=F=function(t){return t===T||t===s?new r(t):o(t)}),h(h.G+h.W+h.F*!Y,{Promise:T}),n("45f2")(T,w),n("4c95")(w),s=n("584a")[w],h(h.S+h.F*!Y,w,{reject:function(t){var e=F(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(c||!Y),w,{resolve:function(t){return x(c&&this===s?T:this,t)}}),h(h.S+h.F*!(Y&&n("4ee1")(function(t){T.all(t)["catch"](M)})),w,{all:function(t){var e=this,n=F(e),i=n.resolve,o=n.reject,r=_(function(){var n=[],r=0,s=1;p(t,!1,function(t){var c=r++,a=!1;n.push(void 0),s++,e.resolve(t).then(function(t){a||(a=!0,n[c]=t,--s||i(n))},o)}),--s||i(n)});return r.e&&o(r.v),n.promise},race:function(t){var e=this,n=F(e),i=n.reject,o=_(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},"28a5":function(t,e,n){"use strict";var i=n("aae3"),o=n("cb7c"),r=n("ebd6"),s=n("0390"),c=n("9def"),a=n("5f1b"),u=n("520a"),f=n("79e5"),h=Math.min,l=[].push,d="split",v="length",p="lastIndex",m=4294967295,b=!f(function(){RegExp(m,"y")});n("214f")("split",2,function(t,e,n,f){var g;return g="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[v]||2!="ab"[d](/(?:ab)*/)[v]||4!="."[d](/(.?)(.?)/)[v]||"."[d](/()()/)[v]>1||""[d](/.?/)[v]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(o,t,e);var r,s,c,a=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,d=void 0===e?m:e>>>0,b=new RegExp(t.source,f+"g");while(r=u.call(b,o)){if(s=b[p],s>h&&(a.push(o.slice(h,r.index)),r[v]>1&&r.index<o[v]&&l.apply(a,r.slice(1)),c=r[0][v],h=s,a[v]>=d))break;b[p]===r.index&&b[p]++}return h===o[v]?!c&&b.test("")||a.push(""):a.push(o.slice(h)),a[v]>d?a.slice(0,d):a}:"0"[d](void 0,0)[v]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,o,i):g.call(String(o),n,i)},function(t,e){var i=f(g,t,this,e,g!==n);if(i.done)return i.value;var u=o(t),l=String(this),d=r(u,RegExp),v=u.unicode,p=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(b?"y":"g"),y=new d(b?u:"^(?:"+u.source+")",p),_=void 0===e?m:e>>>0;if(0===_)return[];if(0===l.length)return null===a(y,l)?[l]:[];var k=0,x=0,w=[];while(x<l.length){y.lastIndex=b?x:0;var S,O=a(y,b?l:l.slice(x));if(null===O||(S=h(c(y.lastIndex+(b?0:x)),l.length))===k)x=s(l,x,v);else{if(w.push(l.slice(k,x)),w.length===_)return w;for(var j=1;j<=O.length-1;j++)if(w.push(O[j]),w.length===_)return w;x=k=S}}return w.push(l.slice(k)),w}]})},3024:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"385c":function(t,e,n){"use strict";(function(t){n("28a5"),n("7f7f");var i=n("795b"),o=n.n(i),r=(n("ac6a"),n("5df3"),n("ac0d")),s=n("e8ec"),c=n("a211"),a=n("fa7d"),u=n("101f");t.ePub=c["a"],e["a"]={components:{},data:function(){return{}},mixins:[r["a"]],watch:{},methods:{initEpub:function(t){var e=this;this.book=new c["a"](t),this.setCurrentBook(this.book),this.initRendition(),this.initGesture(),this.book.ready.then(function(){return e.book.locations.generate(window.innerWidth/375*750*(Object(s["d"])(e.fileName)/16))}).then(function(t){e.setBookAvailable(!0),e.refreshLocation()}),this.parseBook()},initRendition:function(){var t=this;this.rendition=this.book.renderTo("read",{width:innerWidth,height:innerHeight,method:"default"});var e=Object(s["g"])(this.fileName);this.display(e,function(){t.initFontSize(),t.initFontFamily(),t.initTheme(),t.initGlobalStyle()}),this.rendition.hooks.content.register(function(t){o.a.all([t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/montserrat.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/tangerine.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/cabin.css")),t.addStylesheet("".concat("http://47.99.166.157/book/res","/fonts/daysOne.css"))]).then(function(){})})},initFontSize:function(){var t=Object(s["d"])(this.fileName);t?(this.rendition.themes.fontSize(t),this.setDefaultFontSize(t)):Object(s["n"])(this.fileName,this.defaultFontSize)},initFontFamily:function(){var t=Object(s["c"])(this.fileName);t?(this.rendition.themes.font(t),this.setDefaultFontFamily(t)):Object(s["m"])(this.fileName,this.defaultFontFamily)},initTheme:function(){var t=this,e=Object(s["j"])(this.fileName);e||(e=this.themeList[0].name,Object(s["s"])(this.fileName,e)),this.setDefaultTheme(e),this.themeList.forEach(function(e){t.rendition.themes.register(e.name,e.style)}),this.rendition.themes.select(e)},initGesture:function(){var t=this;this.rendition.on("touchstart",function(e){t.touchStartX=e.changedTouches[0].clientX,t.touchStartTime=e.timeStamp}),this.rendition.on("touchend",function(e){var n=e.changedTouches[0].clientX-t.touchStartX,i=e.timeStamp-t.touchStartTime;i<500&&n>40?t.prevPage():i<500&&n<-40?t.nextPage():t.toggleTitleAndMenu(),e.preventDefault(),e.stopPropagation()})},onMaskClick:function(t){if(!this.mouseState||2!==this.mouseState&&3!==this.mouseState){var e=t.offsetX,n=window.innerWidth;e>0&&e<.3*n?this.prevPage():e>0&&e>.7*n?this.nextPage():this.toggleTitleAndMenu()}},move:function(t){var e=0;this.firstOffsetY?(e=t.changedTouches[0].clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.changedTouches[0].clientY,t.preventDefault(),t.stopPropagation()},moveEnd:function(t){this.setOffsetY(0),this.firstOffsetY=null},onMouseEnter:function(t){this.mouseState=1,this.mouseStartTime=t.timeStamp,t.preventDefault(),t.stopPropagation()},onMouseMove:function(t){if(1===this.mouseState)this.mouseState=2;else if(2===this.mouseState){var e=0;this.firstOffsetY?(e=t.clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.clientY}t.preventDefault(),t.stopPropagation()},onMouseEnd:function(t){2===this.mouseState?(this.setOffsetY(0),this.firstOffsetY=null,this.mouseState=3):this.mouseState=4;var e=t.timeStamp-this.mouseStartTime;e<100&&(this.mouseState=4),t.preventDefault(),t.stopPropagation()},prevPage:function(){var t=this;this.rendition&&(this.rendition.prev().then(function(){t.refreshLocation()}),this.hideTitleAndMenu())},nextPage:function(){var t=this;this.rendition&&(this.rendition.next().then(function(){t.refreshLocation()}),this.hideTitleAndMenu())},toggleTitleAndMenu:function(){this.menuVisible&&this.setSettingVisible(-1),this.setMenuVisible(!this.menuVisible),this.setFontFamilyVisible(!1)},parseBook:function(){var t=this;this.book.loaded.cover.then(function(e){t.book.archive.createUrl(e).then(function(e){t.setCover(e)})}),this.book.loaded.metadata.then(function(e){t.setMetadata(e)}),this.book.loaded.navigation.then(function(e){var n=Object(a["b"])(e.toc);function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.parent?i(n.filter(function(e){return e.id===t.parent})[0],++e):e}n.forEach(function(t){t.level=i(t)}),t.setNavigation(n)})}},created:function(){},mounted:function(){var t=this,e=this.$route.params.fileName.split("|"),n=e[1];Object(u["b"])(n,function(n,i){!n&&i?(console.log("找到离线缓存电子书"),t.setFileName(e.join("/")).then(function(){t.initEpub(i)})):t.setFileName(e.join("/")).then(function(){var e="".concat("http://47.99.166.157/epub","/").concat(t.fileName,".epub");t.initEpub(e)})})}}}).call(this,n("c8ba"))},"3c11":function(t,e,n){"use strict";var i=n("63b6"),o=n("584a"),r=n("e53d"),s=n("f201"),c=n("cd78");i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,o.Promise||r.Promise),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then(function(){return n})}:t,n?function(n){return c(e,t()).then(function(){throw n})}:t)}})},4178:function(t,e,n){var i,o,r,s=n("d864"),c=n("3024"),a=n("32fc"),u=n("1ec9"),f=n("e53d"),h=f.process,l=f.setImmediate,d=f.clearImmediate,v=f.MessageChannel,p=f.Dispatch,m=0,b={},g="onreadystatechange",y=function(){var t=+this;if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},_=function(t){y.call(t.data)};l&&d||(l=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return b[++m]=function(){c("function"==typeof t?t:Function(t),e)},i(m),m},d=function(t){delete b[t]},"process"==n("6b4c")(h)?i=function(t){h.nextTick(s(y,t,1))}:p&&p.now?i=function(t){p.now(s(y,t,1))}:v?(o=new v,r=o.port2,o.port1.onmessage=_,i=s(r.postMessage,r,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(i=function(t){f.postMessage(t+"","*")},f.addEventListener("message",_,!1)):i=g in u("script")?function(t){a.appendChild(u("script"))[g]=function(){a.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:l,clear:d}},"43fc":function(t,e,n){"use strict";var i=n("63b6"),o=n("656e"),r=n("4439");i(i.S,"Promise",{try:function(t){var e=o.f(this),n=r(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"4c95":function(t,e,n){"use strict";var i=n("e53d"),o=n("584a"),r=n("d9f6"),s=n("8e60"),c=n("5168")("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:i[t];s&&e&&!e[c]&&r.f(e,c,{configurable:!0,get:function(){return this}})}},"513b":function(t,e,n){},5158:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ebook-reader"},[n("div",{attrs:{id:"read"}}),n("div",{staticClass:"ebook-reader-mask",on:{click:t.onMaskClick,touchmove:t.move,touchend:t.moveEnd,mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.onMouseEnter(e)},mousemove:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.onMouseMove(e)},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.onMouseEnd(e)}}})])},o=[],r=n("385c"),s=r["a"],c=(n("9162"),n("2877")),a=Object(c["a"])(s,i,o,!1,null,"6911a9ec",null);e["default"]=a.exports},"5c95":function(t,e,n){var i=n("35e8");t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:i(t,o,e[o]);return t}},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},"656e":function(t,e,n){"use strict";var i=n("79aa");function o(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new o(t)}},"696e":function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("24c5"),n("3c11"),n("43fc"),t.exports=n("584a").Promise},"795b":function(t,e,n){t.exports=n("696e")},"7f7f":function(t,e,n){var i=n("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,s="name";s in o||n("9e1e")&&i(o,s,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},9162:function(t,e,n){"use strict";var i=n("513b"),o=n.n(i);o.a},a22a:function(t,e,n){var i=n("d864"),o=n("b0dc"),r=n("3702"),s=n("e4ae"),c=n("b447"),a=n("7cd6"),u={},f={};e=t.exports=function(t,e,n,h,l){var d,v,p,m,b=l?function(){return t}:a(t),g=i(n,h,e?2:1),y=0;if("function"!=typeof b)throw TypeError(t+" is not iterable!");if(r(b)){for(d=c(t.length);d>y;y++)if(m=e?g(s(v=t[y])[0],v[1]):g(t[y]),m===u||m===f)return m}else for(p=b.call(t);!(v=p.next()).done;)if(m=o(p,g,v.value,e),m===u||m===f)return m};e.BREAK=u,e.RETURN=f},aae3:function(t,e,n){var i=n("d3f4"),o=n("2d95"),r=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},aba2:function(t,e,n){var i=n("e53d"),o=n("4178").set,r=i.MutationObserver||i.WebKitMutationObserver,s=i.process,c=i.Promise,a="process"==n("6b4c")(s);t.exports=function(){var t,e,n,u=function(){var i,o;a&&(i=s.domain)&&i.exit();while(t){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,i&&i.enter()};if(a)n=function(){s.nextTick(u)};else if(!r||i.navigator&&i.navigator.standalone)if(c&&c.resolve){var f=c.resolve(void 0);n=function(){f.then(u)}}else n=function(){o.call(i,u)};else{var h=!0,l=document.createTextNode("");new r(u).observe(l,{characterData:!0}),n=function(){l.data=h=!h}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},bc13:function(t,e,n){var i=n("e53d"),o=i.navigator;t.exports=o&&o.userAgent||""},c207:function(t,e){},cd78:function(t,e,n){var i=n("e4ae"),o=n("f772"),r=n("656e");t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t),s=n.resolve;return s(e),n.promise}},f201:function(t,e,n){var i=n("e4ae"),o=n("79aa"),r=n("5168")("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[r])?e:o(n)}}}]);
//# sourceMappingURL=chunk-fbfef14c.38412d84.js.map