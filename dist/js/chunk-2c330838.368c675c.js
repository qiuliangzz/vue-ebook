(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c330838"],{"0093":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.shelfTitleVisible,expression:"shelfTitleVisible"}],staticClass:"shelf-title",class:{"hide-shadow":t.ifHideShadow}},[n("div",{staticClass:"shelf-title-text-wrapper"},[n("span",{staticClass:"shelf-title-text"},[t._v(t._s(t.title))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.isEditMode,expression:"isEditMode"}],staticClass:"shelf-title-sub-text"},[t._v(t._s(t.selectedText))])]),t.showClear?n("div",{staticClass:"shelf-title-btn-wrapper left"},[n("span",{staticClass:"shelf-title-btn-text",on:{click:t.clearCache}},[t._v(t._s(t.$t("shelf.clearCache")))])]):t._e(),t.showEdit?n("div",{staticClass:"shelf-title-btn-wrapper right"},[n("span",{staticClass:"shelf-title-btn-text",on:{click:t.onEditClick}},[t._v(t._s(t.isEditMode?t.$t("shelf.cancel"):t.$t("shelf.edit")))])]):t._e(),t.showBack?n("div",{staticClass:"shelf-title-btn-wrapper left"},[n("span",{staticClass:"icon-back",on:{click:t.back}})]):t._e(),t.showChangeGroup?n("div",{staticClass:"shelf-title-btn-wrapper",class:{"shelf-title-left":t.changeGroupLeft,"shelf-title-right":t.changeGroupRight},on:{click:t.changeGroup}},[n("span",{staticClass:"shelf-title-btn-text"},[t._v(t._s(t.$t("shelf.editGroup")))])]):t._e()])])},r=[],o=(n("ac6a"),n("a481"),n("ac0d")),s=n("101f"),c=n("e8ec"),a={components:{},data:function(){return{ifHideShadow:!0}},props:{title:String},mixins:[o["b"]],computed:{emptyCategory:function(){return!this.shelfCategory||!this.shelfCategory.itemList||0===this.shelfCategory.itemList.length},showEdit:function(){return 1===this.currentType||!this.emptyCategory},showClear:function(){return 1===this.currentType},showBack:function(){return 2===this.currentType&&!this.isEditMode},showChangeGroup:function(){return 2===this.currentType&&(this.isEditMode||this.emptyCategory)},changeGroupLeft:function(){return!this.emptyCategory},changeGroupRight:function(){return this.emptyCategory},selectedText:function(){var t=this.shelfSelected?this.shelfSelected.length:0;return t<=0?this.$t("shelf.selectBook"):1===t?this.$t("shelf.haveSelectedBook").replace("$1",t):this.$t("shelf.haveSelectedBooks").replace("$1",t)},popupCancelBtn:function(){var t=this;return this.createPopupBtn(this.$t("shelf.cancel"),function(){t.hidePopup()})}},watch:{offsetY:function(t){this.ifHideShadow=!(t>0)}},methods:{onEditClick:function(){this.isEditMode||(this.setShelfSelected([]),this.shelfList.forEach(function(t){t.selected=!1,t.itemList&&t.itemList.forEach(function(t){t.selected=!1})})),this.setIsEditMode(!this.isEditMode)},clearCache:function(){Object(c["a"])(),Object(s["a"])(),this.setShelfList([]),this.setShelfSelected([]),this.getShelfList(),this.simpleToast(this.$t("shelf.clearCacheSuccess"))},back:function(){this.$router.go(-1),this.setIsEditMode(!1)},createPopupBtn:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";return{text:t,type:n,click:e}},hidePopup:function(){this.popupMenu.hide()},changeGroup:function(){var t=this;this.popupMenu=this.popup({btn:[this.createPopupBtn(this.$t("shelf.editGroupName"),function(){t.changeGroupName()}),this.createPopupBtn(this.$t("shelf.deleteGroup"),function(){t.showDeleteGroup()},"danger"),this.popupCancelBtn]}).show()},changeGroupName:function(){this.hidePopup(),this.dialog({showNewGroup:!0,groupName:this.shelfCategory.title}).show()},showDeleteGroup:function(){var t=this;this.hidePopup(),setTimeout(function(){t.popupMenu=t.popup({title:t.$t("shelf.deleteGroupTitle"),btn:[t.createPopupBtn(t.$t("shelf.confirm"),function(){t.deleteGroup()},"danger"),t.popupCancelBtn]}).show()},200)},deleteGroup:function(){this.emptyCategory?this.onComplete():(this.setShelfSelected(this.shelfCategory.itemList),this.moveOutOfGroup(this.onComplete))},onComplete:function(){var t=this;this.hidePopup(),this.setShelfList(this.shelfList.filter(function(e){return e.id!==t.shelfCategory.id})).then(function(){Object(c["r"])(t.shelfList),t.$router.go(-1),t.setIsEditMode(!1)})}},created:function(){},mounted:function(){}},u=a,f=(n("315a"),n("2877")),l=Object(f["a"])(u,i,r,!1,null,"f93635aa",null);e["a"]=l.exports},"0575":function(t,e,n){},"0d6f":function(t,e,n){},1173:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},"1add":function(t,e,n){},"1b09":function(t,e,n){},"24c5":function(t,e,n){"use strict";var i,r,o,s,c=n("b8e3"),a=n("e53d"),u=n("d864"),f=n("40c3"),l=n("63b6"),h=n("f772"),p=n("79aa"),d=n("1173"),v=n("a22a"),m=n("f201"),y=n("4178").set,w=n("aba2")(),b=n("656e"),g=n("4439"),_=n("bc13"),x=n("cd78"),k="Promise",j=a.TypeError,E=a.process,S=E&&E.versions,C=S&&S.v8||"",P=a[k],O="process"==f(E),T=function(){},L=r=b.f,$=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n("5168")("species")]=function(t){t(T,T)};return(O||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==C.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(i){}}(),R=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;w(function(){var i=t._v,r=1==t._s,o=0,s=function(e){var n,o,s,c=r?e.ok:e.fail,a=e.resolve,u=e.reject,f=e.domain;try{c?(r||(2==t._h&&U(t),t._h=1),!0===c?n=i:(f&&f.enter(),n=c(i),f&&(f.exit(),s=!0)),n===e.promise?u(j("Promise-chain cycle")):(o=R(n))?o.call(n,a,u):a(n)):u(i)}catch(l){f&&!s&&f.exit(),u(l)}};while(n.length>o)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&B(t)})}},B=function(t){y.call(a,function(){var e,n,i,r=t._v,o=M(t);if(o&&(e=g(function(){O?E.emit("unhandledRejection",r,t):(n=a.onunhandledrejection)?n({promise:t,reason:r}):(i=a.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=O||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},U=function(t){y.call(a,function(){var e;O?E.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})})},D=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},A=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw j("Promise can't be resolved itself");(e=R(t))?w(function(){var i={_w:n,_d:!1};try{e.call(t,u(A,i,1),u(D,i,1))}catch(r){D.call(i,r)}}):(n._v=t,n._s=1,N(n,!1))}catch(i){D.call({_w:n,_d:!1},i)}}};$||(P=function(t){d(this,P,k,"_h"),p(t),i.call(this);try{t(u(A,this,1),u(D,this,1))}catch(e){D.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n("5c95")(P.prototype,{then:function(t,e){var n=L(m(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=O?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=u(A,t,1),this.reject=u(D,t,1)},b.f=L=function(t){return t===P||t===s?new o(t):r(t)}),l(l.G+l.W+l.F*!$,{Promise:P}),n("45f2")(P,k),n("4c95")(k),s=n("584a")[k],l(l.S+l.F*!$,k,{reject:function(t){var e=L(this),n=e.reject;return n(t),e.promise}}),l(l.S+l.F*(c||!$),k,{resolve:function(t){return x(c&&this===s?P:this,t)}}),l(l.S+l.F*!($&&n("4ee1")(function(t){P.all(t)["catch"](T)})),k,{all:function(t){var e=this,n=L(e),i=n.resolve,r=n.reject,o=g(function(){var n=[],o=0,s=1;v(t,!1,function(t){var c=o++,a=!1;n.push(void 0),s++,e.resolve(t).then(function(t){a||(a=!0,n[c]=t,--s||i(n))},r)}),--s||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=L(e),i=n.reject,r=g(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},3024:function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"315a":function(t,e,n){"use strict";var i=n("1b09"),r=n.n(i);r.a},"35e9":function(t,e,n){"use strict";var i=n("1add"),r=n.n(i);r.a},"380b":function(t,e,n){},"3c11":function(t,e,n){"use strict";var i=n("63b6"),r=n("584a"),o=n("e53d"),s=n("f201"),c=n("cd78");i(i.P+i.R,"Promise",{finally:function(t){var e=s(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then(function(){return n})}:t,n?function(n){return c(e,t()).then(function(){throw n})}:t)}})},4178:function(t,e,n){var i,r,o,s=n("d864"),c=n("3024"),a=n("32fc"),u=n("1ec9"),f=n("e53d"),l=f.process,h=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,v=f.Dispatch,m=0,y={},w="onreadystatechange",b=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},g=function(t){b.call(t.data)};h&&p||(h=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return y[++m]=function(){c("function"==typeof t?t:Function(t),e)},i(m),m},p=function(t){delete y[t]},"process"==n("6b4c")(l)?i=function(t){l.nextTick(s(b,t,1))}:v&&v.now?i=function(t){v.now(s(b,t,1))}:d?(r=new d,o=r.port2,r.port1.onmessage=g,i=s(o.postMessage,o,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(i=function(t){f.postMessage(t+"","*")},f.addEventListener("message",g,!1)):i=w in u("script")?function(t){a.appendChild(u("script"))[w]=function(){a.removeChild(this),b.call(t)}}:function(t){setTimeout(s(b,t,1),0)}),t.exports={set:h,clear:p}},"42ab":function(t,e,n){"use strict";var i=n("b196"),r=n.n(i);r.a},"43fc":function(t,e,n){"use strict";var i=n("63b6"),r=n("656e"),o=n("4439");i(i.S,"Promise",{try:function(t){var e=r.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},4439:function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"49b4":function(t,e,n){"use strict";var i=n("4ceb"),r=n.n(i);r.a},"4be7":function(t,e,n){(function(e){
/*!
 *
 * Copyright 2009-2017 Kris Kowal under the terms of the MIT
 * license found at https://github.com/kriskowal/q/blob/v1/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */
(function(e){"use strict";"function"===typeof bootstrap?bootstrap("promise",e):t.exports=e()})(function(){"use strict";var t=!1;try{throw new Error}catch(lt){t=!!lt.stack}var n,i=S(),r=function(){},o=function(){var t={task:void 0,next:null},n=t,i=!1,r=void 0,s=!1,c=[];function a(){var e,n;while(t.next)t=t.next,e=t.task,t.task=void 0,n=t.domain,n&&(t.domain=void 0,n.enter()),u(e,n);while(c.length)e=c.pop(),u(e);i=!1}function u(t,e){try{t()}catch(lt){if(s)throw e&&e.exit(),setTimeout(a,0),e&&e.enter(),lt;setTimeout(function(){throw lt},0)}e&&e.exit()}if(o=function(t){n=n.next={task:t,domain:s&&e.domain,next:null},i||(i=!0,r())},"object"===typeof e&&"[object process]"===e.toString()&&e.nextTick)s=!0,r=function(){e.nextTick(a)};else if("function"===typeof setImmediate)r="undefined"!==typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!==typeof MessageChannel){var f=new MessageChannel;f.port1.onmessage=function(){r=l,f.port1.onmessage=a,a()};var l=function(){f.port2.postMessage(0)};r=function(){setTimeout(a,0),l()}}else r=function(){setTimeout(a,0)};return o.runAfter=function(t){c.push(t),i||(i=!0,r())},o}(),s=Function.call;function c(t){return function(){return s.apply(t,arguments)}}var a,u=c(Array.prototype.slice),f=c(Array.prototype.reduce||function(t,e){var n=0,i=this.length;if(1===arguments.length)do{if(n in this){e=this[n++];break}if(++n>=i)throw new TypeError}while(1);for(;n<i;n++)n in this&&(e=t(e,this[n],n));return e}),l=c(Array.prototype.indexOf||function(t){for(var e=0;e<this.length;e++)if(this[e]===t)return e;return-1}),h=c(Array.prototype.map||function(t,e){var n=this,i=[];return f(n,function(r,o,s){i.push(t.call(e,o,s,n))},void 0),i}),p=Object.create||function(t){function e(){}return e.prototype=t,new e},d=Object.defineProperty||function(t,e,n){return t[e]=n.value,t},v=c(Object.prototype.hasOwnProperty),m=Object.keys||function(t){var e=[];for(var n in t)v(t,n)&&e.push(n);return e},y=c(Object.prototype.toString);function w(t){return t===Object(t)}function b(t){return"[object StopIteration]"===y(t)||t instanceof a}a="undefined"!==typeof ReturnValue?ReturnValue:function(t){this.value=t};var g="From previous event:";function _(e,n){if(t&&n.stack&&"object"===typeof e&&null!==e&&e.stack){for(var i=[],r=n;r;r=r.source)r.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>r.stackCounter)&&(d(e,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),i.unshift(r.stack));i.unshift(e.stack);var o=i.join("\n"+g+"\n"),s=x(o);d(e,"stack",{value:s,configurable:!0})}}function x(t){for(var e=t.split("\n"),n=[],i=0;i<e.length;++i){var r=e[i];E(r)||k(r)||!r||n.push(r)}return n.join("\n")}function k(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function j(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var i=/.*@(.+):(\d+)$/.exec(t);return i?[i[1],Number(i[2])]:void 0}function E(t){var e=j(t);if(!e)return!1;var r=e[0],o=e[1];return r===n&&o>=i&&o<=ft}function S(){if(t)try{throw new Error}catch(lt){var e=lt.stack.split("\n"),i=e[0].indexOf("@")>0?e[1]:e[2],r=j(i);if(!r)return;return n=r[0],r[1]}}function C(t,e,n){return function(){return"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e+" is deprecated, use "+n+" instead.",new Error("").stack),t.apply(t,arguments)}}function P(t){return t instanceof R?t:U(t)?J(t):Y(t)}P.resolve=P,P.nextTick=o,P.longStackSupport=!1;var O=1;function T(){var e,n=[],i=[],r=p(T.prototype),o=p(R.prototype);if(o.promiseDispatch=function(t,r,o){var s=u(arguments);n?(n.push(s),"when"===r&&o[1]&&i.push(o[1])):P.nextTick(function(){e.promiseDispatch.apply(e,s)})},o.valueOf=function(){if(n)return o;var t=B(e);return M(t)&&(e=t),t},o.inspect=function(){return e?e.inspect():{state:"pending"}},P.longStackSupport&&t)try{throw new Error}catch(lt){o.stack=lt.stack.substring(lt.stack.indexOf("\n")+1),o.stackCounter=O++}function s(r){e=r,P.longStackSupport&&t&&(o.source=r),f(n,function(t,e){P.nextTick(function(){r.promiseDispatch.apply(r,e)})},void 0),n=void 0,i=void 0}return r.promise=o,r.resolve=function(t){e||s(P(t))},r.fulfill=function(t){e||s(Y(t))},r.reject=function(t){e||s(K(t))},r.notify=function(t){e||f(i,function(e,n){P.nextTick(function(){n(t)})},void 0)},r}function L(t){if("function"!==typeof t)throw new TypeError("resolver must be a function.");var e=T();try{t(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}return e.promise}function $(t){return L(function(e,n){for(var i=0,r=t.length;i<r;i++)P(t[i]).then(e,n)})}function R(t,e,n){void 0===e&&(e=function(t){return K(new Error("Promise does not support operation: "+t))}),void 0===n&&(n=function(){return{state:"unknown"}});var i=p(R.prototype);if(i.promiseDispatch=function(n,r,o){var s;try{s=t[r]?t[r].apply(i,o):e.call(i,r,o)}catch(c){s=K(c)}n&&n(s)},i.inspect=n,n){var r=n();"rejected"===r.state&&(i.exception=r.reason),i.valueOf=function(){var t=n();return"pending"===t.state||"rejected"===t.state?i:t.value}}return i}function N(t,e,n,i){return P(t).then(e,n,i)}function B(t){if(M(t)){var e=t.inspect();if("fulfilled"===e.state)return e.value}return t}function M(t){return t instanceof R}function U(t){return w(t)&&"function"===typeof t.then}function D(t){return M(t)&&"pending"===t.inspect().state}function A(t){return!M(t)||"fulfilled"===t.inspect().state}function G(t){return M(t)&&"rejected"===t.inspect().state}"object"===typeof e&&e&&Object({NODE_ENV:"production",VUE_APP_BASE_URL:"http://47.99.166.157:3000",VUE_APP_BOOK_URL:"http://47.99.166.157:3000",VUE_APP_EPUB_OPF_URL:"http://47.99.166.157/epub2",VUE_APP_EPUB_URL:"http://47.99.166.157/epub",VUE_APP_RES_URL:"http://47.99.166.157/book/res",VUE_APP_VOICE_URL:"http://47.99.166.157:3000",BASE_URL:""})&&Object({NODE_ENV:"production",VUE_APP_BASE_URL:"http://47.99.166.157:3000",VUE_APP_BOOK_URL:"http://47.99.166.157:3000",VUE_APP_EPUB_OPF_URL:"http://47.99.166.157/epub2",VUE_APP_EPUB_URL:"http://47.99.166.157/epub",VUE_APP_RES_URL:"http://47.99.166.157/book/res",VUE_APP_VOICE_URL:"http://47.99.166.157:3000",BASE_URL:""}).Q_DEBUG&&(P.longStackSupport=!0),P.defer=T,T.prototype.makeNodeResolver=function(){var t=this;return function(e,n){e?t.reject(e):arguments.length>2?t.resolve(u(arguments,1)):t.resolve(n)}},P.Promise=L,P.promise=L,L.race=$,L.all=rt,L.reject=K,L.resolve=P,P.passByCopy=function(t){return t},R.prototype.passByCopy=function(){return this},P.join=function(t,e){return P(t).join(e)},R.prototype.join=function(t){return P([this,t]).spread(function(t,e){if(t===e)return t;throw new Error("Q can't join: not the same: "+t+" "+e)})},P.race=$,R.prototype.race=function(){return this.then(P.race)},P.makePromise=R,R.prototype.toString=function(){return"[object Promise]"},R.prototype.then=function(t,e,n){var i=this,r=T(),o=!1;function s(e){try{return"function"===typeof t?t(e):e}catch(n){return K(n)}}function c(t){if("function"===typeof e){_(t,i);try{return e(t)}catch(n){return K(n)}}return K(t)}function a(t){return"function"===typeof n?n(t):t}return P.nextTick(function(){i.promiseDispatch(function(t){o||(o=!0,r.resolve(s(t)))},"when",[function(t){o||(o=!0,r.resolve(c(t)))}])}),i.promiseDispatch(void 0,"when",[void 0,function(t){var e,n=!1;try{e=a(t)}catch(lt){if(n=!0,!P.onerror)throw lt;P.onerror(lt)}n||r.notify(e)}]),r.promise},P.tap=function(t,e){return P(t).tap(e)},R.prototype.tap=function(t){return t=P(t),this.then(function(e){return t.fcall(e).thenResolve(e)})},P.when=N,R.prototype.thenResolve=function(t){return this.then(function(){return t})},P.thenResolve=function(t,e){return P(t).thenResolve(e)},R.prototype.thenReject=function(t){return this.then(function(){throw t})},P.thenReject=function(t,e){return P(t).thenReject(e)},P.nearer=B,P.isPromise=M,P.isPromiseAlike=U,P.isPending=D,R.prototype.isPending=function(){return"pending"===this.inspect().state},P.isFulfilled=A,R.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},P.isRejected=G,R.prototype.isRejected=function(){return"rejected"===this.inspect().state};var I=[],V=[],F=[],W=!0;function H(){I.length=0,V.length=0,W||(W=!0)}function Q(t,n){W&&("object"===typeof e&&"function"===typeof e.emit&&P.nextTick.runAfter(function(){-1!==l(V,t)&&(e.emit("unhandledRejection",n,t),F.push(t))}),V.push(t),n&&"undefined"!==typeof n.stack?I.push(n.stack):I.push("(no stack) "+n))}function z(t){if(W){var n=l(V,t);-1!==n&&("object"===typeof e&&"function"===typeof e.emit&&P.nextTick.runAfter(function(){var i=l(F,t);-1!==i&&(e.emit("rejectionHandled",I[n],t),F.splice(i,1))}),V.splice(n,1),I.splice(n,1))}}function K(t){var e=R({when:function(e){return e&&z(this),e?e(t):this}},function(){return this},function(){return{state:"rejected",reason:t}});return Q(e,t),e}function Y(t){return R({when:function(){return t},get:function(e){return t[e]},set:function(e,n){t[e]=n},delete:function(e){delete t[e]},post:function(e,n){return null===e||void 0===e?t.apply(void 0,n):t[e].apply(t,n)},apply:function(e,n){return t.apply(e,n)},keys:function(){return m(t)}},void 0,function(){return{state:"fulfilled",value:t}})}function J(t){var e=T();return P.nextTick(function(){try{t.then(e.resolve,e.reject,e.notify)}catch(n){e.reject(n)}}),e.promise}function q(t){return R({isDef:function(){}},function(e,n){return it(t,e,n)},function(){return P(t).inspect()})}function X(t,e,n){return P(t).spread(e,n)}function Z(t){return function(){function e(t,e){var o;if("undefined"===typeof StopIteration){try{o=n[t](e)}catch(s){return K(s)}return o.done?P(o.value):N(o.value,i,r)}try{o=n[t](e)}catch(s){return b(s)?P(s.value):K(s)}return N(o,i,r)}var n=t.apply(this,arguments),i=e.bind(e,"next"),r=e.bind(e,"throw");return i()}}function tt(t){P.done(P.async(t)())}function et(t){throw new a(t)}function nt(t){return function(){return X([this,rt(arguments)],function(e,n){return t.apply(e,n)})}}function it(t,e,n){return P(t).dispatch(e,n)}function rt(t){return N(t,function(t){var e=0,n=T();return f(t,function(i,r,o){var s;M(r)&&"fulfilled"===(s=r.inspect()).state?t[o]=s.value:(++e,N(r,function(i){t[o]=i,0===--e&&n.resolve(t)},n.reject,function(t){n.notify({index:o,value:t})}))},void 0),0===e&&n.resolve(t),n.promise})}function ot(t){if(0===t.length)return P.resolve();var e=P.defer(),n=0;return f(t,function(i,r,o){var s=t[o];function c(t){e.resolve(t)}function a(t){if(n--,0===n){var i=t||new Error(""+t);i.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+i.message,e.reject(i)}}function u(t){e.notify({index:o,value:t})}n++,N(s,c,a,u)},void 0),e.promise}function st(t){return N(t,function(t){return t=h(t,P),N(rt(h(t,function(t){return N(t,r,r)})),function(){return t})})}function ct(t){return P(t).allSettled()}function at(t,e){return P(t).then(void 0,void 0,e)}function ut(t,e){return P(t).nodeify(e)}P.resetUnhandledRejections=H,P.getUnhandledReasons=function(){return I.slice()},P.stopUnhandledRejectionTracking=function(){H(),W=!1},H(),P.reject=K,P.fulfill=Y,P.master=q,P.spread=X,R.prototype.spread=function(t,e){return this.all().then(function(e){return t.apply(void 0,e)},e)},P.async=Z,P.spawn=tt,P["return"]=et,P.promised=nt,P.dispatch=it,R.prototype.dispatch=function(t,e){var n=this,i=T();return P.nextTick(function(){n.promiseDispatch(i.resolve,t,e)}),i.promise},P.get=function(t,e){return P(t).dispatch("get",[e])},R.prototype.get=function(t){return this.dispatch("get",[t])},P.set=function(t,e,n){return P(t).dispatch("set",[e,n])},R.prototype.set=function(t,e){return this.dispatch("set",[t,e])},P.del=P["delete"]=function(t,e){return P(t).dispatch("delete",[e])},R.prototype.del=R.prototype["delete"]=function(t){return this.dispatch("delete",[t])},P.mapply=P.post=function(t,e,n){return P(t).dispatch("post",[e,n])},R.prototype.mapply=R.prototype.post=function(t,e){return this.dispatch("post",[t,e])},P.send=P.mcall=P.invoke=function(t,e){return P(t).dispatch("post",[e,u(arguments,2)])},R.prototype.send=R.prototype.mcall=R.prototype.invoke=function(t){return this.dispatch("post",[t,u(arguments,1)])},P.fapply=function(t,e){return P(t).dispatch("apply",[void 0,e])},R.prototype.fapply=function(t){return this.dispatch("apply",[void 0,t])},P["try"]=P.fcall=function(t){return P(t).dispatch("apply",[void 0,u(arguments,1)])},R.prototype.fcall=function(){return this.dispatch("apply",[void 0,u(arguments)])},P.fbind=function(t){var e=P(t),n=u(arguments,1);return function(){return e.dispatch("apply",[this,n.concat(u(arguments))])}},R.prototype.fbind=function(){var t=this,e=u(arguments);return function(){return t.dispatch("apply",[this,e.concat(u(arguments))])}},P.keys=function(t){return P(t).dispatch("keys",[])},R.prototype.keys=function(){return this.dispatch("keys",[])},P.all=rt,R.prototype.all=function(){return rt(this)},P.any=ot,R.prototype.any=function(){return ot(this)},P.allResolved=C(st,"allResolved","allSettled"),R.prototype.allResolved=function(){return st(this)},P.allSettled=ct,R.prototype.allSettled=function(){return this.then(function(t){return rt(h(t,function(t){function e(){return t.inspect()}return t=P(t),t.then(e,e)}))})},P.fail=P["catch"]=function(t,e){return P(t).then(void 0,e)},R.prototype.fail=R.prototype["catch"]=function(t){return this.then(void 0,t)},P.progress=at,R.prototype.progress=function(t){return this.then(void 0,void 0,t)},P.fin=P["finally"]=function(t,e){return P(t)["finally"](e)},R.prototype.fin=R.prototype["finally"]=function(t){if(!t||"function"!==typeof t.apply)throw new Error("Q can't apply finally callback");return t=P(t),this.then(function(e){return t.fcall().then(function(){return e})},function(e){return t.fcall().then(function(){throw e})})},P.done=function(t,e,n,i){return P(t).done(e,n,i)},R.prototype.done=function(t,n,i){var r=function(t){P.nextTick(function(){if(_(t,o),!P.onerror)throw t;P.onerror(t)})},o=t||n||i?this.then(t,n,i):this;"object"===typeof e&&e&&e.domain&&(r=e.domain.bind(r)),o.then(void 0,r)},P.timeout=function(t,e,n){return P(t).timeout(e,n)},R.prototype.timeout=function(t,e){var n=T(),i=setTimeout(function(){e&&"string"!==typeof e||(e=new Error(e||"Timed out after "+t+" ms"),e.code="ETIMEDOUT"),n.reject(e)},t);return this.then(function(t){clearTimeout(i),n.resolve(t)},function(t){clearTimeout(i),n.reject(t)},n.notify),n.promise},P.delay=function(t,e){return void 0===e&&(e=t,t=void 0),P(t).delay(e)},R.prototype.delay=function(t){return this.then(function(e){var n=T();return setTimeout(function(){n.resolve(e)},t),n.promise})},P.nfapply=function(t,e){return P(t).nfapply(e)},R.prototype.nfapply=function(t){var e=T(),n=u(t);return n.push(e.makeNodeResolver()),this.fapply(n).fail(e.reject),e.promise},P.nfcall=function(t){var e=u(arguments,1);return P(t).nfapply(e)},R.prototype.nfcall=function(){var t=u(arguments),e=T();return t.push(e.makeNodeResolver()),this.fapply(t).fail(e.reject),e.promise},P.nfbind=P.denodeify=function(t){if(void 0===t)throw new Error("Q can't wrap an undefined function");var e=u(arguments,1);return function(){var n=e.concat(u(arguments)),i=T();return n.push(i.makeNodeResolver()),P(t).fapply(n).fail(i.reject),i.promise}},R.prototype.nfbind=R.prototype.denodeify=function(){var t=u(arguments);return t.unshift(this),P.denodeify.apply(void 0,t)},P.nbind=function(t,e){var n=u(arguments,2);return function(){var i=n.concat(u(arguments)),r=T();function o(){return t.apply(e,arguments)}return i.push(r.makeNodeResolver()),P(o).fapply(i).fail(r.reject),r.promise}},R.prototype.nbind=function(){var t=u(arguments,0);return t.unshift(this),P.nbind.apply(void 0,t)},P.nmapply=P.npost=function(t,e,n){return P(t).npost(e,n)},R.prototype.nmapply=R.prototype.npost=function(t,e){var n=u(e||[]),i=T();return n.push(i.makeNodeResolver()),this.dispatch("post",[t,n]).fail(i.reject),i.promise},P.nsend=P.nmcall=P.ninvoke=function(t,e){var n=u(arguments,2),i=T();return n.push(i.makeNodeResolver()),P(t).dispatch("post",[e,n]).fail(i.reject),i.promise},R.prototype.nsend=R.prototype.nmcall=R.prototype.ninvoke=function(t){var e=u(arguments,1),n=T();return e.push(n.makeNodeResolver()),this.dispatch("post",[t,e]).fail(n.reject),n.promise},P.nodeify=ut,R.prototype.nodeify=function(t){if(!t)return this;this.then(function(e){P.nextTick(function(){t(null,e)})},function(e){P.nextTick(function(){t(e)})})},P.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ft=S();return P})}).call(this,n("4362"))},"4c95":function(t,e,n){"use strict";var i=n("e53d"),r=n("584a"),o=n("d9f6"),s=n("8e60"),c=n("5168")("species");t.exports=function(t){var e="function"==typeof r[t]?r[t]:i[t];s&&e&&!e[c]&&o.f(e,c,{configurable:!0,get:function(){return this}})}},"4ceb":function(t,e,n){},"564b":function(t,e,n){},"5c95":function(t,e,n){var i=n("35e8");t.exports=function(t,e,n){for(var r in e)n&&t[r]?t[r]=e[r]:i(t,r,e[r]);return t}},"5df3":function(t,e,n){"use strict";var i=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},"656e":function(t,e,n){"use strict";var i=n("79aa");function r(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},6625:function(t,e){Array.prototype.pushWithoutDuplicate=function(){for(var t=0;t<arguments.length;t++){var e=arguments[t];-1===this.indexOf(e)&&this.push(e)}}},6701:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"scrollWrapper",staticClass:"scroll-wrapper",class:{"no-scroll":t.ifNoScroll},on:{"&scroll":function(e){return t.handleScroll(e)}}},[t._t("default")],2)},r=[],o=(n("c5f6"),n("fa7d")),s={props:{top:{type:Number,default:0},bottom:{type:Number,default:0},ifNoScroll:{type:Boolean,default:!1},initPosition:{type:Object,default:function(){return{x:0,y:0}}}},methods:{handleScroll:function(t){var e=t.target.scrollTop||window.pageYOffset||document.body.scrollTop;this.$emit("onScroll",e)},scrollTo:function(t,e){this.$refs.scrollWrapper.scrollTo(t,e)},refresh:function(){this.$refs.scrollWrapper&&(this.$refs.scrollWrapper.style.height=window.innerHeight-Object(o["d"])(this.top)-Object(o["d"])(this.bottom)+"px",this.$refs.scrollWrapper.addEventListener("scroll",this.handleScroll))}},mounted:function(){var t=this;this.refresh(),this.$nextTick(function(){setTimeout(function(){t.scrollTo(Object(o["d"])(t.initPosition.x),Object(o["d"])(t.initPosition.y))},1)})}},c=s,a=(n("b097"),n("2877")),u=Object(a["a"])(c,i,r,!1,null,"337afef7",null);e["a"]=u.exports},"68eb":function(t,e,n){"use strict";var i=n("564b"),r=n.n(i);r.a},"696e":function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("24c5"),n("3c11"),n("43fc"),t.exports=n("584a").Promise},7556:function(t,e,n){"use strict";var i=n("0d6f"),r=n.n(i);r.a},"795b":function(t,e,n){t.exports=n("696e")},"7d38":function(t,e,n){"use strict";var i=n("0575"),r=n.n(i);r.a},"96cf":function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function a(t,e,n,i){var r=e&&e.prototype instanceof v?e:v,o=Object.create(r.prototype),s=new P(i||[]);return o._invoke=j(t,n,s),o}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}t.wrap=a;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",d={};function v(){}function m(){}function y(){}var w={};w[o]=function(){return this};var b=Object.getPrototypeOf,g=b&&b(b(O([])));g&&g!==n&&i.call(g,o)&&(w=g);var _=y.prototype=v.prototype=Object.create(w);function x(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function k(t){function e(n,r,o,s){var c=u(t[n],t,r);if("throw"!==c.type){var a=c.arg,f=a.value;return f&&"object"===typeof f&&i.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(f).then(function(t){a.value=t,o(a)},function(t){return e("throw",t,o,s)})}s(c.arg)}var n;function r(t,i){function r(){return new Promise(function(n,r){e(t,i,n,r)})}return n=n?n.then(r,r):r()}this._invoke=r}function j(t,e,n){var i=f;return function(r,o){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw o;return T()}n.method=r,n.arg=o;while(1){var s=n.delegate;if(s){var c=E(s,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var a=u(t,e,n);if("normal"===a.type){if(i=n.done?p:l,a.arg===d)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(i=p,n.method="throw",n.arg=a.arg)}}}function E(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=u(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,d;var o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function O(t){if(t){var n=t[o];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,s=function n(){while(++r<t.length)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}return{next:T}}function T(){return{value:e,done:!0}}return m.prototype=_.constructor=y,y.constructor=m,y[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},x(k.prototype),k.prototype[s]=function(){return this},t.AsyncIterator=k,t.async=function(e,n,i,r){var o=new k(a(e,n,i,r));return t.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},x(_),_[c]="Generator",_[o]=function(){return this},_.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return c.type="throw",c.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],c=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var a=i.call(s,"catchLoc"),u=i.call(s,"finallyLoc");if(a&&u){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(a){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},a22a:function(t,e,n){var i=n("d864"),r=n("b0dc"),o=n("3702"),s=n("e4ae"),c=n("b447"),a=n("7cd6"),u={},f={};e=t.exports=function(t,e,n,l,h){var p,d,v,m,y=h?function(){return t}:a(t),w=i(n,l,e?2:1),b=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(o(y)){for(p=c(t.length);p>b;b++)if(m=e?w(s(d=t[b])[0],d[1]):w(t[b]),m===u||m===f)return m}else for(v=y.call(t);!(d=v.next()).done;)if(m=r(v,w,d.value,e),m===u||m===f)return m};e.BREAK=u,e.RETURN=f},aba2:function(t,e,n){var i=n("e53d"),r=n("4178").set,o=i.MutationObserver||i.WebKitMutationObserver,s=i.process,c=i.Promise,a="process"==n("6b4c")(s);t.exports=function(){var t,e,n,u=function(){var i,r;a&&(i=s.domain)&&i.exit();while(t){r=t.fn,t=t.next;try{r()}catch(o){throw t?n():e=void 0,o}}e=void 0,i&&i.enter()};if(a)n=function(){s.nextTick(u)};else if(!o||i.navigator&&i.navigator.standalone)if(c&&c.resolve){var f=c.resolve(void 0);n=function(){f.then(u)}}else n=function(){r.call(i,u)};else{var l=!0,h=document.createTextNode("");new o(u).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},b097:function(t,e,n){"use strict";var i=n("380b"),r=n.n(i);r.a},b196:function(t,e,n){},b1a9:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shelf-list",style:{top:t.shelfListTop}},[n("transition-group",{attrs:{name:"list",tag:"div",id:"shelf-list"}},t._l(t.data,function(e){return n("div",{key:e.id,staticClass:"shelf-list-item-wrapper"},[n("ShelfItem",{style:{height:t.itemHeight},attrs:{data:e}}),n("div",{staticClass:"shelf-list-title-wrapper"},[n("span",{staticClass:"shelf-list-title title-small"},[t._v(t._s(e.title))])])],1)}),0)],1)},r=[],o=(n("c5f6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shelf-item",class:{"shelf-item-shadow":3!==t.data.type},on:{click:t.onItemClick}},[n(t.item,{tag:"component",staticClass:"shelf-item-comp",class:{"is-edit":t.isEditMode&&2===t.data.type},attrs:{data:t.data}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditMode&&1===t.data.type,expression:"isEditMode && data.type===1"}],staticClass:"icon-selected",class:{"is-selected":t.data.selected}})],1)}),s=[],c=n("ac0d"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shelf-item-book"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.data.cover,expression:"data.cover"}],staticClass:"shelf-item-book-cover",attrs:{alt:""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.data.private,expression:"data.private"}],staticClass:"private-wrapper"}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.data.private,expression:"data.private"}],staticClass:"private-icon-wrapper"},[n("span",{staticClass:"icon-private"})])])},u=[],f={components:{},data:function(){return{}},props:{data:Object},mixins:[],methods:{},created:function(){},mounted:function(){}},l=f,h=(n("7d38"),n("2877")),p=Object(h["a"])(l,a,u,!1,null,"17dcc16c",null),d=p.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shelf-item-category"},[t.data.itemList.length>0?n("div",{staticClass:"shelf-item-category-list"},t._l(t.data.itemList,function(t,e){return n("div",{key:e,staticClass:"shelf-item-category-item"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"item.cover"}],staticClass:"shelf-item-category-img"})])}),0):n("div",{staticClass:"shelf-item-category-bg"},[n("span",{staticClass:"icon-book2"})])])},m=[],y={components:{},data:function(){return{}},props:{data:Object},mixins:[],methods:{},created:function(){},mounted:function(){}},w=y,b=(n("35e9"),Object(h["a"])(w,v,m,!1,null,"cfad862c",null)),g=b.exports,_=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"shelf-item-add"},[n("span",{staticClass:"icon-add"})])}],k={components:{},data:function(){return{}},props:{data:Object},mixins:[],methods:{},created:function(){},mounted:function(){}},j=k,E=(n("7556"),Object(h["a"])(j,_,x,!1,null,"3969110b",null)),S=E.exports,C=n("4ed7"),P=(n("6625"),{components:{},data:function(){return{book:d,category:g,add:S}},props:{data:Object},mixins:[c["b"]],computed:{item:function(){return 1===this.data.type?this.book:2===this.data.type?this.category:this.add}},methods:{onItemClick:function(){var t=this;this.isEditMode?(this.data.selected=!this.data.selected,this.data.selected?this.shelfSelected.pushWithoutDuplicate(this.data):this.setShelfSelected(this.shelfSelected.filter(function(e){return e.id!==t.data.id}))):1===this.data.type?this.showBookDetail(this.data):2===this.data.type?this.$router.push({path:"/category",query:{title:this.data.title}}):Object(C["c"])(this)}},created:function(){},mounted:function(){}}),O=P,T=(n("49b4"),Object(h["a"])(O,o,s,!1,null,"3a81c72d",null)),L=T.exports,$=n("fa7d"),R={components:{ShelfItem:L},data:function(){return{}},props:{top:{type:Number,default:94},data:Array},mixins:[c["b"]],computed:{itemHeight:function(){return(window.innerWidth-Object($["d"])(120))/3*1.4+"px"},shelfListTop:function(){return Object($["e"])(this.top)+"rem"}},methods:{},created:function(){},mounted:function(){}},N=R,B=(n("68eb"),Object(h["a"])(N,i,r,!1,null,"1bafd350",null));e["a"]=B.exports},bc13:function(t,e,n){var i=n("e53d"),r=i.navigator;t.exports=r&&r.userAgent||""},c207:function(t,e){},cd78:function(t,e,n){var i=n("e4ae"),r=n("f772"),o=n("656e");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t),s=n.resolve;return s(e),n.promise}},f1f4:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isEditMode,expression:"isEditMode"}],staticClass:"shelf-footer"},t._l(t.tabs,function(e){return n("div",{key:e.index,staticClass:"shelf-footer-tab-wrapper",on:{click:function(n){return t.onTabClick(e)}}},[n("div",{staticClass:"shelf-footer-tab",class:{"is-selected":t.isSelected}},[1!==e.index||t.isPrivate?t._e():n("div",{staticClass:"icon-private tab-icon"}),1===e.index&&t.isPrivate?n("div",{staticClass:"icon-private-see tab-icon"}):t._e(),2!==e.index||t.isDownload?t._e():n("div",{staticClass:"icon-download tab-icon"}),2===e.index&&t.isDownload?n("div",{staticClass:"icon-download-remove tab-icon"}):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:3===e.index,expression:"item.index===3"}],staticClass:"icon-move tab-icon"}),n("div",{directives:[{name:"show",rawName:"v-show",value:4===e.index,expression:"item.index===4"}],staticClass:"icon-shelf tab-icon"}),n("div",{staticClass:"tab-text",class:{"remove-text":4===e.index}},[t._v(t._s(t.label(e)))])])])}),0)},r=[],o=(n("5df3"),n("a481"),n("96cf"),n("795b")),s=n.n(o);function c(t,e,n,i,r,o,c){try{var a=t[o](c),u=a.value}catch(f){return void n(f)}a.done?e(u):s.a.resolve(u).then(i,r)}function a(t){return function(){var e=this,n=arguments;return new s.a(function(i,r){var o=t.apply(e,n);function s(t){c(o,i,r,s,a,"next",t)}function a(t){c(o,i,r,s,a,"throw",t)}s(void 0)})}}n("ac6a");var u=n("ac0d"),f=n("e8ec"),l=n("365c"),h=n("101f"),p=n("4be7"),d={components:{},data:function(){return{popupMenu:null}},mixins:[u["b"]],computed:{isSelected:function(){return this.shelfSelected&&this.shelfSelected.length>0},tabs:function(){return[{label:this.$t("shelf.private"),label2:this.$t("shelf.noPrivate"),index:1},{label:this.$t("shelf.download"),label2:this.$t("shelf.clearCache"),index:2},{label:this.$t("shelf.move"),index:3},{label:this.$t("shelf.remove"),index:4}]},isPrivate:function(){return!!this.isSelected&&this.shelfSelected.every(function(t){return t.private})},isDownload:function(){return!!this.isSelected&&this.shelfSelected.every(function(t){return t.cache})}},methods:{onTabClick:function(t){if(this.isSelected)switch(t.index){case 1:this.showPrivate();break;case 2:this.showDownload();break;case 3:this.dialog().show();break;case 4:this.showRemove();break;default:break}},label:function(t){switch(t.index){case 1:return this.isPrivate?t.label2:t.label;case 2:return this.isDownload?t.label2:t.label;default:return t.label}},onComplete:function(){this.hidePopup(),this.setIsEditMode(!1),Object(f["r"])(this.shelfList)},hidePopup:function(){this.popupMenu.hide()},showPrivate:function(){var t=this;this.popupMenu=this.popup({title:this.isPrivate?this.$t("shelf.closePrivateTitle"):this.$t("shelf.setPrivateTitle"),btn:[{text:this.isPrivate?this.$t("shelf.close"):this.$t("shelf.open"),click:function(){t.setPrivate()}},{text:this.$t("shelf.cancel"),click:function(){t.hidePopup()}}]}),this.popupMenu.show()},setPrivate:function(){var t;t=!this.isPrivate,this.shelfSelected.forEach(function(e){e.private=t}),this.onComplete(),t?this.simpleToast(this.$t("shelf.setPrivateSuccess")):this.simpleToast(this.$t("shelf.closePrivateSuccess"))},showDownload:function(){var t=this;this.popupMenu=this.popup({title:this.isDownload?this.$t("shelf.removeDownloadTitle"):this.$t("shelf.setDownloadTitle"),btn:[{text:this.isDownload?this.$t("shelf.delete"):this.$t("shelf.open"),click:function(){t.setDownload()}},{text:this.$t("shelf.cancel"),click:function(){t.hidePopup()}}]}),this.popupMenu.show()},setDownload:function(){var t=a(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.onComplete(),!this.isDownload){t.next=5;break}this.removeSelectedBook(),t.next=9;break;case 5:return t.next=7,this.downloadSelectedBook();case 7:Object(f["r"])(this.shelfList),this.simpleToast(this.$t("shelf.setDownloadSuccess"));case 9:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),downloadSelectedBook:function(){var t=a(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.shelfSelected.length)){t.next=7;break}return t.next=4,this.downloadBook(this.shelfSelected[e]).then(function(t){t.cache=!0});case 4:e++,t.next=1;break;case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),downloadBook:function(t){var e=this,n="",i=this.toast({text:n});return i.continueShow(),new p["Promise"](function(n,r){Object(l["b"])(t,function(t){i.remove(),n(t)},r,function(n){var r=Math.floor(n.loaded/n.total*100)+"%",o=e.$t("shelf.progressDownload").replace("$1","".concat(t.fileName,".epub(").concat(r,")"));i.updateText(o)})})},removeSelectedBook:function(){var t=this;p["Promise"].all(this.shelfSelected.map(function(e){return t.removeBook(e)})).then(function(e){e.map(function(t){t.cache=!1}),Object(f["r"])(t.shelfList),t.simpleToast(t.$t("shelf.removeDownloadSuccess"))})},removeBook:function(t){return new p["Promise"](function(e,n){Object(f["k"])("".concat(t.categoryText,"/").concat(t.fileName,"-info")),Object(h["c"])("".concat(t.fileName),e,n),e(t)})},showRemove:function(){var t,e=this;t=1===this.shelfSelected.length?this.$t("shelf.removeBookTitle").replace("$1","《".concat(this.shelfSelected.title,"》")):this.$t("shelf.removeBookTitle").replace("$1",this.$t("shelf.selectedBooks")),this.popupMenu=this.popup({title:t,btn:[{text:this.$t("shelf.removeBook"),type:"danger",click:function(){e.removeSelected()}},{text:this.$t("shelf.cancel"),click:function(){e.hidePopup()}}]}),this.popupMenu.show()},removeSelected:function(){var t=this;this.shelfSelected.forEach(function(e){t.setShelfList(t.shelfList.filter(function(t){return t!==e}))}),this.setShelfSelected([]),this.onComplete()}},created:function(){},mounted:function(){}},v=d,m=(n("42ab"),n("2877")),y=Object(m["a"])(v,i,r,!1,null,"0c117ee2",null);e["a"]=y.exports},f201:function(t,e,n){var i=n("e4ae"),r=n("79aa"),o=n("5168")("species");t.exports=function(t,e){var n,s=i(t).constructor;return void 0===s||void 0==(n=i(s)[o])?e:r(n)}}}]);
//# sourceMappingURL=chunk-2c330838.368c675c.js.map